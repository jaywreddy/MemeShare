{"ts":1355068508641,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"import json\nimport marshal\nimport uuid\nfrom models import *\n\ndef create_meme(image, memegroup):\n    image_id=generate_uuid()\n    #store image with image id\n    #print(cloudinary.uploader.upload(image, public_id= image_id))\n    Meme(meme_id = image_id, memegroup_id = memegroup).save()\n    return image_id\n\ndef add_user_to_memegroup(user_id, memegroup_id):\n    User_Association(user_id=user_id, memegroup_id=memegroup_id).save()\n\n\ndef create_memegroup(name):\n    memegroup_id=generate_uuid()\n    MemeGroup(memegroup_id=memegroup_id, memegroup_name=name).save()\n    return memegroup_id\n\ndef get_user_memegroups(user_id):\n    memegroups=User_Association.objects.filter(user_id=user_id)\n    grouplist=[]\n    for memegroup in memegroups:\n        memegroup_id=memegroup.memegroup_id\n        name=get_memegroup_name(memegroup_id)\n        grouplist.append([memegroup_id, name])\n    if len(grouplist)==0:\n        return None\n    return json.dumps(grouplist)\n\ndef get_memegroup_name(memegroup_id):\n    memegroups=MemeGroup.objects.filter(memegroup_id=memegroup_id)\n    name=''\n    for memegroup in memegroups:\n        name= memegroup.memegroup_name\n    return name\n\ndef get_memegroup_memes(memegroup_id):\n    memes= Meme.objects.filter(memegroup_id=memegroup_id)\n    memelist=[]\n    for meme in memes:\n        memelist.append(meme.meme_id)\n    if len(memelist)==0:\n        return None\n    return json.dumps(memelist)\n\ndef generate_uuid():\n    id=uuid.uuid4().hex\n    return id\n"]],"start1":0,"start2":0,"length1":0,"length2":1467}]],"length":1467}
